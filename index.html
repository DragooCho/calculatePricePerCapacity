<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>calculatePricePerCapacity</title>
  </head>
  <body>
    <h1>용량 대비 가격 계산기</h1>
    <form>
      <h2>제품용량</h2>
      <p>
        <input
          id="Xml"
          type="number"
          placeholder="여기에 제품용량을 적으세요"
        />
        ML
      </p>

      <h2>제품가격</h2>
      <p>
        <input
          id="Xwon"
          type="number"
          placeholder="여기에 제품가격을 적으세요"
        />
        원
      </p>

      <h2>계산할 용량</h2>
      <p>
        <input
          id="Yml"
          type="number"
          placeholder="여기에 계산할 용량값을 적으세요"
        />
        ML
      </p>

      <button id="btn">계산버튼</button>
    </form>
    <h2>
      <p class="result_window_title">계산대기중</p>
      <h4>🤔용량이 000ml일 때 가격은 000원 입니다.🤔</h4>
    </h2>
  </body>
  <style>
    h1 {
      font-size: 2.5rem;
    }
    input {
      height: 30px;
      width: 250px;
    }
    button {
      border-radius: 1rem;
      font-size: 2rem;
      height: 6rem;
      width: 13rem;
    }
    p {
      margin-top: -0.5rem;
      margin-bottom: 2rem;
    }
  </style>
  <script>
    const btn = document.querySelector("button");
    const originMl = document.querySelector("#Xml");
    const resultMl = document.querySelector("#Yml");
    const won = document.querySelector("#Xwon");
    const calResult = document.querySelector("h4");
    const resultTitle = document.querySelector(".result_window_title");

    function changeResultTitle() {
      resultTitle.innerHTML = "계산결과";
    }

    function failedCalculationsText() {
      calResult.innerHTML = `😢용량과 가격을 모두 적어주세요.😢`;
    }

    function outputPostResultText(volume, finalValue) {
      calResult.innerHTML = `😉용량이 ${volume}ml일 때 가격은 ${finalValue}원 입니다.😉`;
    }

    const calculatePricePerCapacity = (ml, won, valueMl) => {
      if (ml === "" || won === "" || valueMl === "") {
        failedCalculationsText();
      } else {
        const result = won / (ml / valueMl);
        const moneyDropDecimal = result.toFixed(2);
        outputPostResultText(valueMl, moneyDropDecimal);
      }
    };

    function calPricePerCap(e) {
      e.preventDefault();
      changeResultTitle();
      calculatePricePerCapacity(originMl.value, won.value, resultMl.value);
    }

    btn.addEventListener("click", calPricePerCap);
  </script>
</html>
